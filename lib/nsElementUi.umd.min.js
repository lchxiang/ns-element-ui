(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t():"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["nsElementUi"]=t():e["nsElementUi"]=t()})("undefined"!==typeof self?self:this,function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="fb15")}({"00fd":function(e,t,n){var o=n("9e69"),i=Object.prototype,a=i.hasOwnProperty,r=i.toString,l=o?o.toStringTag:void 0;function s(e){var t=a.call(e,l),n=e[l];try{e[l]=void 0;var o=!0}catch(s){}var i=r.call(e);return o&&(t?e[l]=n:delete e[l]),i}e.exports=s},"0f32":function(e,t,n){var o=n("b047"),i=n("1a8c"),a="Expected a function";function r(e,t,n){var r=!0,l=!0;if("function"!=typeof e)throw new TypeError(a);return i(n)&&(r="leading"in n?!!n.leading:r,l="trailing"in n?!!n.trailing:l),o(e,t,{leading:r,maxWait:t,trailing:l})}e.exports=r},1310:function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},"1a8c":function(e,t){function n(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=n},"1f38":function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return i});var o=function(){return"undefined"!==typeof window?window:e},i=function(){var e=o();return e&&e.tinymce?e.tinymce:null}}).call(this,n("c8ba"))},"29f3":function(e,t){var n=Object.prototype,o=n.toString;function i(e){return o.call(e)}e.exports=i},"2b3e":function(e,t,n){var o=n("585a"),i="object"==typeof self&&self&&self.Object===Object&&self,a=o||i||Function("return this")();e.exports=a},3724:function(e,t,n){},3729:function(e,t,n){var o=n("9e69"),i=n("00fd"),a=n("29f3"),r="[object Null]",l="[object Undefined]",s=o?o.toStringTag:void 0;function c(e){return null==e?void 0===e?l:r:s&&s in Object(e)?i(e):a(e)}e.exports=c},"408c":function(e,t,n){var o=n("2b3e"),i=function(){return o.Date.now()};e.exports=i},"44c8":function(e,t,n){},"49de":function(e,t,n){"use strict";var o=n("62ff"),i=n.n(o);i.a},"53bb":function(e,t,n){"use strict";var o=n("c142"),i=n.n(o);i.a},"585a":function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n("c8ba"))},"62ff":function(e,t,n){},"858a":function(e,t,n){"use strict";var o=n("3724"),i=n.n(o);i.a},"87a1":function(e,t,n){"use strict";var o=n("44c8"),i=n.n(o);i.a},"8dc8":function(e,t,n){"use strict";var o=n("9acd"),i=n.n(o);i.a},"9acd":function(e,t,n){},"9e69":function(e,t,n){var o=n("2b3e"),i=o.Symbol;e.exports=i},b047:function(e,t,n){var o=n("1a8c"),i=n("408c"),a=n("b4b0"),r="Expected a function",l=Math.max,s=Math.min;function c(e,t,n){var c,d,u,p,f,h,m=0,g=!1,b=!1,y=!0;if("function"!=typeof e)throw new TypeError(r);function v(t){var n=c,o=d;return c=d=void 0,m=t,p=e.apply(o,n),p}function w(e){return m=e,f=setTimeout(_,t),g?v(e):p}function x(e){var n=e-h,o=e-m,i=t-n;return b?s(i,u-o):i}function S(e){var n=e-h,o=e-m;return void 0===h||n>=t||n<0||b&&o>=u}function _(){var e=i();if(S(e))return k(e);f=setTimeout(_,x(e))}function k(e){return f=void 0,y&&c?v(e):(c=d=void 0,p)}function O(){void 0!==f&&clearTimeout(f),m=0,c=h=d=f=void 0}function C(){return void 0===f?p:k(i())}function I(){var e=i(),n=S(e);if(c=arguments,d=this,h=e,n){if(void 0===f)return w(h);if(b)return f=setTimeout(_,t),v(h)}return void 0===f&&(f=setTimeout(_,t)),p}return t=a(t)||0,o(n)&&(g=!!n.leading,b="maxWait"in n,u=b?l(a(n.maxWait)||0,t):u,y="trailing"in n?!!n.trailing:y),I.cancel=O,I.flush=C,I}e.exports=c},b218:function(e,t,n){"use strict";var o=n("bee5"),i=n.n(o);i.a},b4b0:function(e,t,n){var o=n("1a8c"),i=n("ffd6"),a=NaN,r=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,d=parseInt;function u(e){if("number"==typeof e)return e;if(i(e))return a;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=s.test(e);return n||c.test(e)?d(e.slice(2),n?2:8):l.test(e)?a:+e}e.exports=u},b95b:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__["a"]={methods:{getInternationalValue(e){return this.isTableInternational?this.$t(e):e},handlerRefresh(){this.isTreeStatus=!0,this.initData(this.searchFormModel)},handlersearchFormReset(){this.$refs.serchForm.handlerReset()},handlersearchForm(){this.isShow=!this.isShow},showClomnuInit:function(){this.columns.forEach((e,t)=>{if(e.prop&&(e.show||"undefined"===typeof e.show)&&(("undefined"===typeof e.hide||e.hide)&&this.showClomnuIndex.push(t),!1!==e.isCloumnSwitch)){let n={label:e.label,index:t};this.showClomnuList.push(Object.assign({},n))}})},isOutMax(scope,operationList=[]){let row=scope.row;return scope.scopeOperation=operationList.filter(item=>{let isRight=!0,judgesObj=item.judges;return judgesObj?eval(judgesObj):isRight}),scope.scopeOperation.length&&this.operationsAutoDropdown&&scope.scopeOperation.length<=this.operationsAutoDropdownMaxNum||0===scope.scopeOperation.length},saveTreeStateToCookies(e){let t=[];e.forEach(e=>{e._expanded&&t.push(e.id)}),window.sessionStorage.setItem(this.tableId,JSON.stringify(t))},toggleExpanded:function(e){this.isTreeStatus=!1;const t=this.formatData[e];t._expanded=!t._expanded},iconShow(e,t){return e===this.treeCtrlIndex&&t[this.treeChildrenKey]&&t[this.treeChildrenKey].length>0},showRow:function(e){const t=!e.row.parent||e.row.parent._expanded&&e.row.parent._show;return e.row._show=t,t?"animation:treeTableShow 0.5s;-webkit-animation:treeTableShow 0.5s;":"display:none;"},getSelectData(){return this.selection},selectionChange(e){this.selection=this.$refs.elBaseTable.selection,this.emitEventHandler("selection-change",e)},setSelect(e){},clearSelect(){this.$refs["elBaseTable"].clearSelection()},clearTableData(){this.currentData=[]},toggleRowSelection(e){let t=this.rowKey||"id";e instanceof Array||(e=[e]),e.length>0&&this.$nextTick(()=>{this.formatData.forEach(n=>{e.includes(n[t])&&this.$refs.elBaseTable.toggleRowSelection(n)})})},expandAllParents(e,t){t.forEach(t=>{for(let n=0;n<e.length;n++)if(e[n].id===t){e[n]._expanded=!0,e[n].parentId&&0!==e[n].parentId&&this.expandAllParents(e,[e[n].parentId]);break}})}}}},bee5:function(e,t,n){},c142:function(e,t,n){},c3dd:function(e,t,n){},c8ba:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(o){"object"===typeof window&&(n=window)}e.exports=n},d897:function(e,t,n){"use strict";var o=n("c3dd"),i=n.n(o);i.a},f6fd:function(e,t){(function(e){var t="currentScript",n=e.getElementsByTagName("script");t in e||Object.defineProperty(e,t,{get:function(){try{throw new Error}catch(o){var e,t=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(o.stack)||[!1])[1];for(e in n)if(n[e].src==t||"interactive"==n[e].readyState)return n[e];return null}}})})(document)},fb15:function(e,t,n){"use strict";n.r(t);var o={};n.r(o),n.d(o,"notEmptyArray",function(){return s}),n.d(o,"isExist",function(){return c}),n.d(o,"filterDic",function(){return d}),n.d(o,"isElInput",function(){return u}),n.d(o,"isDatePicker",function(){return p}),n.d(o,"isEmptyObject",function(){return f}),n.d(o,"getValueByPath",function(){return h});var i,a={};(n.r(a),n.d(a,"getInternationalValue",function(){return Oe}),n.d(a,"isExist",function(){return Ce}),"undefined"!==typeof window)&&(n("f6fd"),(i=window.document.currentScript)&&(i=i.src.match(/(.+\/)[^\/]+\.js(\?.*)?$/))&&(n.p=i[1]));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ns-base-form"},[e.notEmptyArray(e.actualFormList)?n("el-form",{ref:"form",attrs:{model:e.formModel,"label-position":e.labelPosition,inline:e.inline,disabled:e.disabled,"inline-message":e.inlineMessage,"show-message":e.showMessage,"label-suffix":e.labelSuffix,"status-icon":e.statusIcon,size:e.size,"validate-on-rule-change":e.validateOnRuleChange,"label-width":e.labelWidth+"px"}},[n("el-row",{attrs:{gutter:20,span:24}},[e._l(e.actualFormList,function(t,o){return[n("el-col",{key:o,staticClass:"ns-item-container",class:t.colClass||"",attrs:{span:t.span||24}},["outItemSlot"!==t.type&&void 0===t.show||t.show?n("el-form-item",{class:t.class,attrs:{label:"searchForm"!==e.type?e.getInternationalValue(t.label||t.placeholder):"",prop:t.prop,rules:"searchForm"!==e.type&&t.rules||[],"label-width":(t.labelWidth||e.labelWidth)+"px"}},[e.isElInput(t.type)?n("el-input",{attrs:{type:t.type,size:t.size,readonly:t.readonly,disabled:t.disabled&&"searchForm"!==e.type,clearable:t.clearable||!0,autosize:t.autosize,placeholder:e.getPlaceholder(e.type,t),"prefix-icon":t.prefixIcon,"suffix-icon":t.suffixIcon,rows:t.rows},model:{value:e.formModel[t.prop],callback:function(n){e.$set(e.formModel,t.prop,n)},expression:"formModel[column.prop]"}}):"checkbox"===t.type?n("el-checkbox-group",{attrs:{size:t.size,min:t.min,max:t.max,"text-color":t.textColor,fill:t.fill,disabled:t.disabled&&"searchForm"!==e.type},model:{value:e.formModel[t.prop],callback:function(n){e.$set(e.formModel,t.prop,n)},expression:"formModel[column.prop]"}},e._l(e.filterDic(t.dicData,e.dicList[t.dicData||t.prop]),function(o,i){return n("el-checkbox",{key:i,attrs:{border:t.border,"true-label":t.trueLabel,"false-label":t.falseLabel,indeterminate:o.indeterminate||t.indeterminate,disabled:o.disabled,name:t.prop,label:e.getValue(o,t.valueKey)}},[e._v(e._s(e.getLabel(o,t.labelKey)))])}),1):"radio"===t.type?n("el-radio-group",{attrs:{size:t.size,name:t.prop,readonly:t.readonly,disabled:t.disabled&&"searchForm"!==e.type},on:{change:function(n){return t.change?t.change(n,e.filterDic(t.dicData,e.dicList[t.dicData||t.prop])):""}},model:{value:e.formModel[t.prop],callback:function(n){e.$set(e.formModel,t.prop,n)},expression:"formModel[column.prop]"}},e._l(e.filterDic(t.dicData,e.dicList[t.dicData||t.prop]),function(o,i){return n("el-radio",{key:i,attrs:{label:e.getValue(o,t.valueKey),border:t.border}},[e._v(e._s(e.getLabel(o,t.labelKey)))])}),1):"select"===t.type?n("el-select",{attrs:{placeholder:e.getPlaceholder(e.type,t),size:t.size,clearable:t.clearable||!0,multiple:t.multiple,disabled:t.disabled&&"searchForm"!==e.type,"value-key":t.valueKey||"value","collapse-tags":t.collapseTags,"multiple-limit":t.multipleLimit},on:{"remove-tag":function(n){return t.removeTag?t.removeTag(n,e.filterDic(t.dicData,e.dicList[t.dicData||t.prop])):""},change:function(n){return t.change?t.change(n,e.filterDic(t.dicData,e.dicList[t.dicData||t.prop])):""}},model:{value:e.formModel[t.prop],callback:function(n){e.$set(e.formModel,t.prop,n)},expression:"formModel[column.prop]"}},e._l(e.filterDic(t.dicData,e.dicList[t.dicData||t.prop]),function(o,i){return n("el-option",{key:i,attrs:{disabled:e.handleDisabled(o,t),label:e.getLabel(o,t.labelKey),value:e.getValue(o,t.valueKey)}})}),1):"timePicker"===t.type?n("el-time-picker",{attrs:{placeholder:e.getPlaceholder(e.type,t),"start-placeholder":e.getInternationalValue(t.startPlaceholder),"end-placeholder":e.getInternationalValue(t.endPlaceholder),readonly:t.readonly,disabled:t.diabled&&"searchForm"!==e.type,size:t.size,clearable:t.clearable||!0,"is-range":t.isRange,"arrow-control":t.arrowControl,align:t.align,"popper-class":t.popperClass,"range-separator":t.rangeSeparator,"picker-options":t.pickerOptions,"value-format":t.valueFormat,"prefix-icon":t.datePrefixIcon,"clear-icon":t.clearIcon},model:{value:e.formModel[t.prop],callback:function(n){e.$set(e.formModel,t.prop,n)},expression:"formModel[column.prop]"}}):e.isDatePicker(t.type)?n("el-date-picker",{attrs:{type:t.type,placeholder:e.getPlaceholder(e.type,t),"start-placeholder":e.getInternationalValue(t.startPlaceholder),"end-placeholder":e.getInternationalValue(t.endPlaceholder),readonly:t.readonly,disabled:t.diabled,size:t.size,clearable:t.clearable,"is-range":t.isRange,format:t.format,align:t.align,"default-value":t.defaultValue,"popper-class":t.popperClass,"range-separator":t.rangeSeparator||"-","picker-options":t.pickerOptions,"value-format":t.valueFormat||"yyyy-MM-dd HH:mm:ss","prefix-icon":t.datePrefixIcon},model:{value:e.formModel[t.prop],callback:function(n){e.$set(e.formModel,t.prop,n)},expression:"formModel[column.prop]"}}):"number"===t.type?n("el-input-number",{attrs:{size:t.size,min:t.minNum,max:t.maxNum,step:t.step,disabled:t.disabled&&"searchForm"!==e.type,controls:t.controls,placeholder:e.getPlaceholder(e.type,t),label:e.getInternationalValue(t.placeholder),"controls-position":t.controlsPosition},model:{value:e.formModel[t.prop],callback:function(n){e.$set(e.formModel,t.prop,n)},expression:"formModel[column.prop]"}}):"switch"===t.type?n("el-switch",{attrs:{disabled:t.disabled&&"searchForm"!==e.type,width:t.width,"active-icon-class":t.activeIconClass,"inactive-icon-class":t.inactiveIconClass,"active-text":e.getInternationalValue(t.activeText),"active-value":t.activeValue,"inactive-value":t.inactiveValue,"active-color":t.activeColor,"inactive-color":t.inactiveColor,"inactive-text":e.getInternationalValue(t.inactiveText)},on:{change:function(e){t.change&&t.change(e)}},model:{value:e.formModel[t.prop],callback:function(n){e.$set(e.formModel,t.prop,n)},expression:"formModel[column.prop]"}}):"slot"===t.type?n("span",[e._t(t.slotName)],2):"infoTextarea"===t.type?n("ns-info-editor",{ref:"infoTextarea",refInFor:!0,attrs:{"label-list":t.labelList,"label-base-url":t.labelBaseUrl,init:t.init,disabled:t.disabled},model:{value:e.formModel[t.prop],callback:function(n){e.$set(e.formModel,t.prop,n)},expression:"formModel[column.prop]"}}):e._e()],1):"outItemSlot"===t.type?[e._t(t.slotName)]:e._e()],2)]}),n("el-col",{staticClass:"search-btn-container",attrs:{span:24}},["searchForm"===e.type?[n("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:e.searchBtn&&e.searchBtn.size},on:{click:e.handlerSearch}},[e._v(e._s(e.searchBtn&&e.searchBtn.text?e.getInternationalValue(e.searchBtn.text):"查询"))]),n("el-button",{attrs:{icon:"el-icon-delete",size:e.resetBtn&&e.resetBtn.size},on:{click:e.handlerReset}},[e._v(e._s(e.resetBtn&&e.resetBtn.text?e.getInternationalValue(e.resetBtn.text):"重置"))])]:"searchForm"!==e.type&&e.submitBtn&&e.submitBtn.show?n("div",{staticClass:"form-btn-container",class:e.getBtnPostion},[n("el-button",{attrs:{type:"primary"},on:{click:e.handlerSearch}},[e._v(e._s(e.submitBtn&&e.submitBtn.text?e.getInternationalValue(e.submitBtn.text):"提交"))]),e._t("menuForm")],2):e._e(),e._t("extraBtn")],2)],2)],1):e._e()],1)},l=[];function s(e){return e&&e instanceof Array&&e.length}function c(e){return null!==e&&void 0!==e}function d(e,t){return s(e)?e:s(t)?t:[]}function u(e){return void 0===e||"input"===e||"textarea"===e||"password"===e}function p(e){let t=["year","month","date","dates","week","datetime","datetimerange","daterange"];return-1!==t.indexOf(e)}function f(e){if("object"===typeof e)return 0===Object.keys(e).length;console.warn("接受参数必须为对象")}function h(e,t){t=t||"";const n=t.split(".");let o=e,i=null;for(let a=0,r=n.length;a<r;a++){const e=n[a];if(!o)break;if(a===r-1){i=o[e];break}o=o[e]}return i}var m={methods:{getLabel(e,t){let n=e.labelkey||t||"label";return this.getInternationalValue(e[n])},getValue(e,t){let n=e.valuekey||t||"value";return e[n]},getInternationalValue(e){return this.isFormInternational?this.$t(e):e},getPlaceholder(e,t){var n="searchForm"===e?t.placeholder||t.label:t.placeholder;return this.getInternationalValue(n)},getAllDic(){return new Promise(e=>{let t=[],n={},o=this.dicData||{},i=this.dickeyList;i.forEach(e=>{t.push(new Promise((t,n)=>{e&&"string"===typeof e&&t(o[e])}))}),this.dicUrlList.forEach(e=>{t.push(new Promise((t,n)=>{if(e.url&&"string"===typeof e.url){i.push(e.dicKey);let n=this.dicUrl?this.dicUrl+"/"+e.url:e.url,o=e.ajaxData||null,a=e.method||"get",r=e.listKey||"data";this.getDicItem(n,o,a,r).then(function(e){t(e)})}}))}),Promise.all(t).then(t=>{i.forEach((e,o)=>{n[e]=t[o]}),e(n)})})},getDicItem(e,t,n,o){return new Promise((i,a)=>{this.$http({url:e,method:n,data:t}).then(e=>{const t=this.getValueByPath(e,o);i(t&&t instanceof Array?t:[])})})},filterFormList(e){let t=[];return this.isColumnMixins?(e.forEach(e=>{let n=void 0===e.isNormal&&void 0===e.isSearch;"searchForm"===this.type?!n&&e.isNormal||t.push(e):!n&&e.isSearch||t.push(e)}),t):e},setDefaultFormModel(e){e.forEach(e=>{e.prop&&("checkbox"===e.type||"select"===e.type&&e.multiple||"datetimerange"===e.type||"daterange"===e.type?this.defaultFormModel[e.prop]=[]:"slot"!==e.type&&"outItemSlot"!==e.type||!e.form||"{}"===JSON.stringify(e.form)?this.defaultFormModel[e.prop]="":Object.keys(e.form).forEach(t=>{this.defaultFormModel[t]=e.form[t]}),void 0!==e.default&&(this.defaultFormModel[e.prop]=e.default))})},setFormVal(){"{}"===JSON.stringify(this.value)?this.formModel=JSON.parse(JSON.stringify(this.defaultFormModel)):Object.keys(this.value).forEach(e=>{void 0!==this.defaultFormModel[e]&&null!==this.value[e]&&void 0!==this.value[e]&&(this.formModel[e]=this.value[e])})}}},g={type:String,isInternational:{type:Boolean},value:{type:Object,default:()=>{}},size:{type:String,default:"medium",validator:function(e){return-1!==["medium","small","mini"].indexOf(e)}},inline:{type:Boolean,default:!1},formList:{type:Array,required:!0,default:()=>[]},labelPosition:{type:String,default:"right"},labelWidth:{type:Number,default:80},labelSuffix:{type:String},statusIcon:{type:Boolean,default:!0},inlineMessage:{type:Boolean,default:!1},isColumnMixins:{type:Boolean,default:!1},showMessage:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},validateOnRuleChange:{type:Boolean,default:!0},submitBtn:{type:Object,default:()=>{}},dicData:{type:Object,default:()=>{}},dicUrl:String,searchSize:{type:String,validator:function(e){return-1!==["medium","small","mini"].indexOf(e)}},resetBtn:{type:Object,default:()=>{}},searchBtn:{type:Object,default:()=>{}},formFormat:Function,handlerSubmit:Function},b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"components-container"},[e.labelList.length?n("div",{staticClass:"ns-editor-label"},e._l(e.labelList,function(t,o){return n("el-button",{key:o,staticClass:"editor-label-item",attrs:{type:"primary",size:"mini"},on:{click:function(n){return e.handleLabel(t.value)}}},[e._v(e._s(t.label))])}),1):e._e(),n("ns-editor",e._g(e._b({ref:"nsEditor",attrs:{value:e.value}},"ns-editor",e.$attrs,!1),e.$listeners))],1)},y=[],v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Editor",{attrs:{id:e.id,disabled:!1,init:e.editorInit},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1)},w=[],x=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],S=function(e){return-1!==x.indexOf(e)},_=function(e,t,n){Object.keys(t).filter(S).forEach(function(o){var i=t[o];"function"===typeof i&&("onInit"===o?i(e,n):n.on(o.substring(2),function(e){return i(e,n)}))})},k=function(e,t){var n,o=e.$props.modelEvents?e.$props.modelEvents:null,i=Array.isArray(o)?o.join(" "):o;e.$watch("value",function(e,o){t&&"string"===typeof e&&e!==n&&e!==o&&(t.setContent(e),n=e)}),t.on(i||"change keyup undo redo",function(){n=t.getContent(),e.$emit("input",n)})},O=function(e,t,n){var o=t.$props.value?t.$props.value:"",i=t.$props.initialValue?t.$props.initialValue:"";n.setContent(o||i),t.$listeners.input&&k(t,n),_(e,t.$listeners,n)},C=0,I=function(e){var t=Date.now(),n=Math.floor(1e9*Math.random());return C++,e+"_"+n+C+String(t)},$=function(e){return null!==e&&"textarea"===e.tagName.toLowerCase()},M=function(e){return"undefined"===typeof e||""===e?[]:Array.isArray(e)?e:e.split(" ")},D=function(e,t){return M(e).concat(M(t))},F=function(e,t,n,o){var i=t.createElement("script");i.type="application/javascript",i.id=e,i.addEventListener("load",o),i.src=n,t.head&&t.head.appendChild(i)},E=function(){return{listeners:[],scriptId:I("tiny-script"),scriptLoaded:!1}},B=function(e,t,n,o){e.scriptLoaded?o():(e.listeners.push(o),t.getElementById(e.scriptId)||F(e.scriptId,t,n,function(){e.listeners.forEach(function(e){return e()}),e.scriptLoaded=!0}))},j=n("1f38"),L={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],value:String,disabled:Boolean},T=function(){return T=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},T.apply(this,arguments)},N=E(),A=function(e,t,n){return e(n||"div",{attrs:{id:t}})},z=function(e,t){return e("textarea",{attrs:{id:t},style:{visibility:"hidden"}})},V=function(e){return function(){var t=T({},e.$props.init,{readonly:e.$props.disabled,selector:"#"+e.elementId,plugins:D(e.$props.init&&e.$props.init.plugins,e.$props.plugins),toolbar:e.$props.toolbar||e.$props.init&&e.$props.init.toolbar,inline:e.inlineEditor,setup:function(t){e.editor=t,t.on("init",function(n){return O(n,e,t)}),e.$props.init&&"function"===typeof e.$props.init.setup&&e.$props.init.setup(t)}});$(e.element)&&(e.element.style.visibility=""),Object(j["a"])().init(t)}},P={props:L,created:function(){this.elementId=this.$props.id||I("tiny-vue"),this.inlineEditor=this.$props.init&&this.$props.init.inline||this.$props.inline},watch:{disabled:function(){this.editor.setMode(this.disabled?"readonly":"design")}},mounted:function(){if(this.element=this.$el,null!==Object(j["a"])())V(this)();else if(this.element&&this.element.ownerDocument){var e=this.element.ownerDocument,t=this.$props.cloudChannel?this.$props.cloudChannel:"5",n=this.$props.apiKey?this.$props.apiKey:"",o="https://cloud.tinymce.com/"+t+"/tinymce.min.js?apiKey="+n;B(N,e,o,V(this))}},beforeDestroy:function(){null!==Object(j["a"])()&&Object(j["a"])().remove(this.editor)},render:function(e){return this.inlineEditor?A(e,this.elementId,this.$props.tagName):z(e,this.elementId)}},H=P;const R=["undo redo | bold  italic  underline  strikethrough  forecolor backcolor | fontselect | formatselect | fontsizeselect | styleselect | alignleft aligncenter alignright outdent indent  blockquote | removeformat subscript superscript hr bullist numlist link  charmap preview anchor pagebreak insertdatetime  table   fullscreen"],K=["advlist anchor autolink autosave code codesample colorpicker colorpicker contextmenu directionality emoticons fullscreen hr image imagetools importcss insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus table template textcolor textpattern visualblocks visualchars wordcount"],U="10px 11px 12px 14px 16px 18px 20px 24px",W="\n微软雅黑=微软雅黑;\n宋体=宋体;\n黑体=黑体;\n仿宋=仿宋;\n楷体=楷体;\n隶书=隶书;\n幼圆=幼圆;\nAndale Mono=andale mono,times;\nArial=arial, helvetica,\nsans-serif;\nArial Black=arial black, avant garde;\nBook Antiqua=book antiqua,palatino;\nComic Sans MS=comic sans ms,sans-serif;\nCourier New=courier new,courier;\nGeorgia=georgia,palatino;\nHelvetica=helvetica;\nImpact=impact,chicago;\nSymbol=symbol;\nTahoma=tahoma,arial,helvetica,sans-serif;\nTerminal=terminal,monaco;\nTimes New Roman=times new roman,times;\nTrebuchet MS=trebuchet ms,geneva;\nVerdana=verdana,geneva;\nWebdings=webdings;\nWingdings=wingdings,zapf dingbats",q="\n*                         { padding:0; margin:0; }\nhtml, body                { height:100%; }\nimg                       { max-width:100%;height:auto; }\na                         { text-decoration: none; }\niframe                    { width: 100%; }\np                         { line-height:1.6; margin: 0px; }\ntable                     { word-wrap:break-word; word-break:break-all; max-width:100%; border:none; border-color:#999; }\n.mce-object-iframe        { width:100%; box-sizing:border-box; margin:0; padding:0; }\nul,ol                     { list-style-position:inside; }\n",J=[{title:"行高",items:[{title:"1",styles:{"line-height":"1"},inline:"span"},{title:"1.5",styles:{"line-height":"1.5"},inline:"span"},{title:"2",styles:{"line-height":"2"},inline:"span"},{title:"2.5",styles:{"line-height":"2.5"},inline:"span"},{title:"3",styles:{"line-height":"3"},inline:"span"}]}];var G={name:"NsEditor",inheritAttrs:!1,props:{value:String,init:Object},components:{Editor:H},data(){return{id:"tinymce-"+(new Date).getTime(),content:this.value,defaultEditorInit:{skins:"o2k7",theme:"modern",menubar:!1,force_p_newlines:!1,importcss_append:!0,toolbar:R,plugins:K,fontsize_formats:U,font_formats:W,content_style:q,style_formats:J,tabfocus_elements:":prev,:next",language:"zh_CN",height:300}}},methods:{},computed:{editorInit(){return Object.assign({},this.defaultEditorInit,this.init)}},watch:{content(e){this.$emit("input",e)},value(e){this.content=e}},created(){},mounted(){tinymce.init({})}},X=G;function Y(e,t,n,o,i,a,r,l){var s,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),o&&(c.functional=!0),a&&(c._scopeId="data-v-"+a),r?(s=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},c._ssrRegister=s):i&&(s=l?function(){i.call(this,this.$root.$options.shadowRoot)}:i),s)if(c.functional){c._injectStyles=s;var d=c.render;c.render=function(e,t){return s.call(t),d(e,t)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,s):[s]}return{exports:e,options:c}}var Q=Y(X,v,w,!1,null,null,null),Z=Q.exports,ee={name:"NsInfoEditor",inheritAttrs:!1,components:{NsEditor:Z},props:{value:String,editorInit:{type:Object,default:()=>{}},labelList:{type:Array,default:()=>[]},labelBaseUrl:{type:String,default:"/infoImg/"}},methods:{handleLabel(e){let t=this.$refs.nsEditor,n=t.$children[0].editor,o=this.labelBaseUrl+e.toLowerCase()+".png";n.insertContent(`<img class="img-mark" data-txt="${e}" src="${o}">`)},imgTotxt(){let e=document.createElement("div");e.innerHTML=this.content;let t=e.querySelectorAll(".img-mark");return t.forEach(e=>{let t=e.getAttribute("data-txt"),n=document.createElement("span");n.innerHTML=t,n.className="img-mark",n.setAttribute("data-txt",t);let o=e.parentNode;o.insertBefore(n,e),o.removeChild(e)}),e.innerHTML},txtToImg(e){let t=document.createElement("div");t.innerHTML=e;let n=t.querySelectorAll("span.img-mark");return n.forEach(e=>{let t=e.getAttribute("data-txt"),n=this.labelBaseUrl+t.toLowerCase()+".png",o=`<img class="img-mark" data-txt="${name}" src="${n}">`,i=e.parentNode;i.insertBefore(o,e),i.removeChild(e)}),t.innerHTML}}},te=ee,ne=Y(te,b,y,!1,null,null,null),oe=ne.exports,ie={name:"NsForm",mixins:[m],components:{NsInfoEditor:oe},props:g,data(){return{formModel:{},formRules:{},dicList:{},defaultFormModel:{},dickeyList:[],dicUrlList:[]}},created(){this.init()},mounted(){},update(){},methods:{init(){this.initUtils(),this.initDic(),this.initFormModel()},initUtils(){Object.keys(o).forEach(e=>{this[e]=o[e]})},initFormModel(){const e=this.actualFormList;this.setDefaultFormModel(e),this.formModel=JSON.parse(JSON.stringify(this.defaultFormModel)),this.setFormVal()},initDic(){this.actualFormList.forEach(e=>{!e.dicUrl&&e.dicData&&"string"===typeof e.dicData?this.dickeyList.push(e.dicData):e.dicUrl&&this.dicUrlList.push({url:e.dicUrl,method:e.method,ajaxData:e.ajaxData,listKey:e.listKey,dicKey:e.dicData||e.prop})}),this.getAllDic().then(e=>{this.dicList=e})},handlerSearch(){this.$refs.form.validate(e=>{if(e){let e=this.formFormat?this.formFormat(this.fromModel):this.fromModel;this.handlerSubmit(e)}})},validate(e){return this.$refs.form.validate(e)},clearValidate(e){this.$refs.form.clearValidate(e)},handlerReset(){this.$refs.form&&this.$refs.form.resetFields()},emitEventHandler(e){this.$emit(e,...Array.from(arguments).splice(1))},handleDisabled(e,t){return"boolean"===typeof e.disabled?e.disabled:void 0===e.disabled&&t.optionDisabledKey&&"boolean"===typeof e[t.optionDisabledKey]?e[t.optionDisabledKey]:!(!t.optionDisabledFormatter||"[object Function]"!==Object.prototype.toString.apply(t.optionDisabledFormatter))&&t.optionDisabledFormatter(e)}},computed:{actualFormList(){return this.filterFormList(this.formList)},getBtnPostion:function(){return this.btnPostion?"is-"+this.btnPostion:"is-center"},isFormInternational(){return this.isExist(this.isInternational)?this.isInternational:this.$NS.isInternational}},watch:{value:{handler(e,t){this.setFormVal()},deep:!0},formModel:{handler(e,t){this.$emit("input",e)},deep:!0}}},ae=ie,re=(n("53bb"),Y(ae,r,l,!1,null,null,null)),le=re.exports;le.install=function(e){e.component(le.name,le)};var se=le,ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ns-table-container"},[n("el-collapse-transition",[e.formList.length&&e.isShow?n("el-card",{attrs:{shadow:"never"}},[n("ns-form",{ref:"serchForm",attrs:{type:"searchForm","is-international":e.isTableInternational,"is-column-mixins":e.isColumnMixins,"form-list":e.formList,"label-position":e.formOptions&&e.formOptions.labelPosition,"label-width":e.formOptions&&e.formOptions.labelWidth||0,"label-suffix":e.formOptions&&e.formOptions.labelSuffix,"status-icon":e.formOptions&&e.formOptions.statusIcon,"inline-message":e.formOptions&&e.formOptions.inlineMessage,inline:e.formOptions&&e.formOptions.inline,disabled:e.formOptions&&e.formOptions.disabled,size:e.formOptions&&e.formOptions.size,"submit-loading":e.loading,"search-btn":e.formOptions&&e.formOptions.searchBtn,"reset-btn":e.formOptions&&e.formOptions.resetBtn,"form-format":e.formOptions&&e.formOptions.formFormat,"handler-submit":e.handlerSearch},model:{value:e.searchFormModel,callback:function(t){e.searchFormModel=t},expression:"searchFormModel"}},[n("template",{slot:"extraBtn"},[e._t("searchBtn")],2)],2)],1):e._e()],1),n("div",{staticClass:"table-btn-container"},[e.btnList.length&&!e.btnListSlot?[n("el-button-group",{staticClass:"table-left-btnList pull-left"},[e._l(e.btnList,function(t,o){return[t.position&&"left"!==t.position?e._e():n("el-button",{key:o,class:t.class,attrs:{type:t.type?t.type:"primary"},on:{click:function(e){t.click&&t.click(e)}}},[e._v(e._s(e.getInternationalValue(t.text)))])]})],2),n("el-button-group",{staticClass:"table-right-btnList pull-right"},[e._l(e.btnList,function(t,o){return["right"===t.position?n("el-button",{key:o,class:t.class,attrs:{type:t.type?t.type:"primary"},on:{click:function(e){t.click&&t.click(e)}}},[e._v(e._s(e.getInternationalValue(t.text)))]):e._e()]})],2)]:e.btnListSlot?[e._t(e.btnListSlot)]:e._e(),e.showDefaultBtn?n("div",{staticClass:"table-default-btnList pull-right"},[e.showRefreshBtn?n("el-button",{attrs:{size:"small",circle:""},on:{click:e.handlerRefresh}},[n("i",{staticClass:"el-icon-refresh"})]):e._e(),e.formList.length?n("el-button",{attrs:{size:"small",circle:""},on:{click:e.handlersearchForm}},[n("i",{staticClass:"el-icon-search"})]):e._e(),n("el-dropdown",{staticClass:"cloumns-switch",attrs:{"hide-on-click":!1}},[n("span",{staticClass:"el-dropdown-link"},[n("el-button",{attrs:{size:"small",circle:""}},[n("i",{staticClass:"el-icon-menu"})])],1),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-checkbox-group",{model:{value:e.showClomnuIndex,callback:function(t){e.showClomnuIndex=t},expression:"showClomnuIndex"}},e._l(e.showClomnuList,function(t,o){return n("el-dropdown-item",{key:o},[n("el-checkbox",{attrs:{label:t.index}},[e._v(e._s(t.label))])],1)}),1)],1)],1)],1):e._e()],2),n("el-collapse-transition",[e.selection.length&&e.showSelectTips?n("el-alert",{staticClass:"alert-selection-tips",attrs:{closable:!1,type:"success"}},[e._v("\n      当前已选"+e._s(e.selection.length)+"条数据\n      "),n("el-button",{attrs:{type:"text",size:"mini"},on:{click:e.clearSelect}},[e._v("清空所选")]),e._t("selectionContent")],2):e._e()],1),n("el-table",{ref:"elBaseTable",staticClass:"ns-table",staticStyle:{width:"100%"},attrs:{"data-id":e.tableId,"element-loading-text":"拼命加载中...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)",data:e.formatData,height:e.height,"max-height":e.maxHeight,stripe:e.stripe,border:e.border,size:e.size,fit:e.fit,"show-header":e.showHeader,"highlight-current-row":e.highlightCurrentRow,"current-row-key":e.currentRowKey,"row-class-name":e.rowClassName,"row-style":e.treeTable?e.showRow:e.rowStyle,"cell-class-name":e.cellClassName,"cell-style":e.cellStyle,"header-row-style":e.headerRowStyle,"header-row-class-name":e.headerRowClassName,"header-cell-style":e.headerCellStyle,"row-key":e.rowKey,"empty-text":e.empyText,"default-expand-all":e.defautExpandAll,"default-sort":e.defaultSort,"tooltip-effect":e.tooltipEffect,"summary-method":e.summaryMethod,"span-method":e.spanMethod,"select-on-indeterminate":e.selectOnIndeterminate},on:{select:function(t,n){return e.emitEventHandler("select",t,n)},"select-all":function(t){return e.emitEventHandler("select-all",t)},"selection-change":function(t){return e.selectionChange(t)},"cell-mouse-enter":function(t,n,o,i){return e.emitEventHandler("cell-mouse-enter",t,n,o,i)},"cell-mouse-leave":function(t,n,o,i){return e.emitEventHandler("cell-mouse-leave",t,n,o,i)},"cell-click":function(t,n,o,i){return e.emitEventHandler("cell-click",t,n,o,i)},"cell-dblclick":function(t,n,o,i){return e.emitEventHandler("cell-dblclick",t,n,o,i)},"row-click":function(t,n,o,i){return e.emitEventHandler("row-click",t,n,o,i)},"row-dblclick":function(t,n){return e.emitEventHandler("row-dblclick",t,n)},"row-contextmenu":function(t,n){return e.emitEventHandler("row-contextmenu",t,n)},"header-click":function(t,n){return e.emitEventHandler("header-click",t,n)},"sort-change":function(t){return e.emitEventHandler("sort-change",t)},"filter-change":function(t){return e.emitEventHandler("filter-change",t)},"current-change":function(t,n){return e.emitEventHandler("current-change",t,n)},"header-dragend":function(t,n,o,i){return e.emitEventHandler("header-dragend",t,n,o,i)},"expand-change":function(t,n){return e.emitEventHandler("expand-change",t,n)}}},[e.columns[0].type&&e.type.indexOf(e.columns[0].type)>=0?n("el-table-column",{attrs:{align:e.columns[0].align?e.columns[0].align:"center","header-align":e.columns[0].headerAlign?e.columns[0].align:"center","class-name":(e.columns[0].className||"")+" el-table-checkbox",type:e.columns[0].type,"reserve-selection":"",width:e.columns[0].width?e.columns[0].width:50}}):e._e(),"radio"===e.columns[0].type?n("el-table-column",{attrs:{"class-name":(e.columns[0].className||"")+" el-table-checkbox",width:e.columns[0].width?e.columns[0].width:50},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-radio",{attrs:{label:t.$index},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v(" ")])]}}],null,!1,561508731)}):e._e(),e.treeTable?[e._l(e.columns,function(t,o){return[t.type||-1==e.showClomnuIndex.indexOf(o)?e._e():n("el-table-column",{key:o,attrs:{"show-overflow-tooltip":"undefined"===typeof t.showOverflowTooltip||t.showOverflowTooltip,"class-name":t.className,"min-width":t.minWidth,label:e.getInternationalValue(t.label),width:t.width},scopedSlots:e._u([{key:"header",fn:function(o){return[t.headerSlotName?n("span",[e._t(t.headerSlotName,null,{row:t})],2):n("span",[e._v(e._s(t.label))])]}},{key:"default",fn:function(i){return[o===e.treeCtrlIndex?e._l(i.row._level,function(e){return n("span",{key:e,staticClass:"ms-tree-space"})}):e._e(),e.iconShow(o,i.row)?n("span",{staticClass:"tree-ctrl",on:{click:function(t){return e.toggleExpanded(i.$index,t)}}},[i.row._expanded?n("i",{class:e.expandedIcon}):n("i",{class:e.collapsedIcon})]):e._e(),t.filter?n("span",[e._v("\n              "+e._s(e.Vue.filter(t["filter"])(i.row[t.prop]))+"\n            ")]):t.slotName?n("span",[e._t(t.slotName,null,{row:i.row,$index:i.$index})],2):t.formatter?[n("span",{domProps:{innerHTML:e._s(t.formatter(i.row,i.row[t.prop]))}})]:n("span",[e._v(e._s(i.row[t.prop]))])]}}],null,!0)})]})]:[e._l(e.columns,function(t,o){return[t.type||-1==e.showClomnuIndex.indexOf(o)||"undefined"!==typeof t.show&&!t.show?e._e():n("el-table-column",{key:o,attrs:{"column-key":t.columnKey,prop:t.prop,label:e.getInternationalValue(t.label),width:t.width,"min-width":t.minWidth,fixed:t.fixed,"render-header":t.renderHeader,sortable:t.sortable,"sort-method":t.sortMethod,resizable:t.resizable,"show-overflow-tooltip":"undefined"===typeof t.showOverflowTooltip||t.showOverflowTooltip,align:t.align?t.align:"center","header-align":t.headerAlign?t.align:"center","class-name":t.className,"label-class-name":t.labelClassName,selectable:t.selectable,"reserve-selection":t.reserveSelection,filters:t.filters,"filter-placement":t.filterPlacement,"filter-multiple":t.filterMultiple,"filter-method":t.filterMethod,"filtered-value":t.filteredValue},scopedSlots:e._u([{key:"header",fn:function(o){return[t.headerSlotName?n("span",[e._t(t.headerSlotName,null,{row:t})],2):n("span",[e._v(e._s(t.label))])]}},{key:"default",fn:function(o){return[t.filter?n("span",[e._v("\n              "+e._s(e.Vue.filter(t["filter"])(o.row[t.prop]))+"\n            ")]):t.slotName?n("span",[e._t(t.slotName,null,{row:o.row,$index:o.$index})],2):t.formatter?[n("span",{domProps:{innerHTML:e._s(t.formatter(o.row,o.row[t.prop]))}})]:n("span",[e._v(e._s(o.row[t.prop]))])]}}],null,!0)})]})],e.operations&&e.operations instanceof Array&&e.operations.length&&!e.isMobile?n("el-table-column",{attrs:{fixed:"right",label:e.getInternationalValue(e.operationText),width:"170","class-name":"operation-list no-choose-row"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.isOutMax(t,e.operations)?[e._l(t.scopeOperation,function(o,i){return[e.isOperationsOnlyShowIcon?e.isOperationsOnlyShowIcon&&o.icon?n("el-tooltip",{key:i,staticClass:"item",attrs:{effect:"dark",content:e.getInternationalValue(o.text),placement:"top-start"}},[n("a",{staticClass:"operation-icon no-choose-row",on:{click:function(e){return o.click(t.row,e,o.type)}}},[o.icon?n("i",{class:o.icon+" "+(o.class||"")}):e._e()])]):e._e():n("el-button",{key:i,staticClass:"operation-text no-choose-row",class:o.class||"",attrs:{type:"text",size:"small"},on:{click:function(e){return o.click(t.row,e,o.type)}}},[e._v("\n              "+e._s(e.getInternationalValue(o.text))+"\n            ")])]})]:[e._l(2,function(o,i){return[e.isOperationsOnlyShowIcon?e._e():[n("el-button",{key:i,staticClass:"operation-text no-choose-row",class:t.scopeOperation[o-1].class,attrs:{type:"text",size:"small"},on:{click:function(e){t.scopeOperation[o-1].click(t.row,e,t.scopeOperation[o-1].type)}}},[e._v("\n                "+e._s(e.getInternationalValue(t.scopeOperation[o-1].text))+"\n              ")])],e.isOperationsOnlyShowIcon&&t.scopeOperation[o-1].icon?[n("el-tooltip",{key:i,staticClass:"item",attrs:{effect:"dark",content:e.getInternationalValue(t.scopeOperation[o-1].text),placement:"top-start"}},[n("a",{staticClass:"operation-icon no-choose-row",on:{click:function(e){t.scopeOperation[o-1].click(t.row,e,t.scopeOperation[o-1].type)}}},[t.scopeOperation[o-1].icon?n("i",{class:t.scopeOperation[o-1].icon+" "+t.scopeOperation[o-1].class}):e._e()])])]:e._e()]}),n("el-dropdown",{staticClass:"operation-dropdown",attrs:{"show-timeout":80,"hide-on-click":!1}},[n("span",{staticClass:"el-dropdown-link"},[e._v("\n              "+e._s(e.getInternationalValue(e.operationMore))+"\n              "),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e._l(t.scopeOperation,function(o,i){return[i>=2?n("el-dropdown-item",{key:i,staticClass:"no-choose-row",class:o.class||"",nativeOn:{click:function(e){return o.click(t.row,e,o.type)}}},[o.icon?n("i",{class:o.icon}):e._e(),e._v(" "+e._s(e.getInternationalValue(o.text))+"\n                ")]):e._e()]})],2)],1)]]}}],null,!1,2692217244)}):e.operations&&e.operations instanceof Array&&e.operations.length&&e.isMobile?n("el-table-column",{attrs:{fixed:"right",label:e.getInternationalValue(e.operationText),width:"40","class-name":"operation-list no-choose-row"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-dropdown",{staticClass:"operation-dropdown",attrs:{"show-timeout":80,"hide-on-click":!1}},[n("span",{staticClass:"el-dropdown-link"},[n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(t.scopeOperation,function(o,i){return n("el-dropdown-item",{key:i,staticClass:"no-choose-row",class:o.class||"",nativeOn:{click:function(e){return o.click(t.row,e,o.type)}}},[o.icon?n("i",{class:o.icon}):e._e(),e._v(" "+e._s(e.getInternationalValue(o.text))+"\n            ")])}),1)],1)]}}])}):e._e()],2),e.pagination?n("div",{staticStyle:{"margin-top":"10px","text-align":"right"}},[n("el-pagination",{attrs:{background:"","current-page":e.page,"page-sizes":e.pageList,"page-size":e.pageSize,layout:e.paginationLayout,total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1):e._e()],1)},de=[];const ue={isInternational:{type:Boolean},formOptions:{type:Object,default:()=>{}},treeTable:{type:Boolean,default:!1},treeChildrenKey:{type:String,default:"children"},expandAll:{type:Boolean,default:!1},collapsedIcon:{type:String,default:"el-icon-caret-right"},expandedIcon:{type:String,default:"el-icon-caret-bottom"},formList:{type:Array,default:()=>[]},btnList:{type:Array,default:()=>[]},btnListSlot:{type:String,default:""},showDefaultBtn:{type:Boolean,default:!0},fetch:Function,pagination:{type:Boolean,default:!0},isMobile:{type:Boolean,default:!1},sidePagination:{type:String,default:"server",validator:function(e){return-1!==["client","server"].indexOf(e)}},isColumnMixins:{type:Boolean,default:!0},showRefreshBtn:{type:Boolean,default:!0},clickToSelect:{type:Boolean,default:!0},operationText:{type:String,default:"操作"},operationMore:{type:String,default:"更多"},operations:Array,operationsOnlyShowIcon:{type:Boolean},operationsAutoDropdown:{type:Boolean,default:!0},operationsAutoDropdownMaxNum:{type:Number,default:4},method:{type:String,default:"get",validator:e=>{return-1!==["get","post","put","delete"].indexOf(e)}},ajaxOptions:{type:Object,default:()=>{return{}}},responseHandler:Function,loadSuccess:Function,url:String,listField:{type:String,default:"data.data"},totalField:{type:String,default:"data.total"},queryParams:[Function,Object],pageList:{type:Array,default:()=>[10,20,50,100]},paginationLayout:{type:String,default:"total, prev, pager, next, jumper, sizes"},pageIndexKey:{type:String,default:"currentPage"},treeCtrlIndex:{type:Number,default:0},pageSizeKey:{type:String,default:"pageSize"},uniqueId:{type:String,default:"id"},tableData:{type:Array,default:()=>[]},columns:{type:Array,require:!0},height:[String,Number],maxHeight:[String,Number],stripe:{type:Boolean,default:!0},border:{type:Boolean,default:!0},showSearchForm:{type:Boolean},size:{type:String,validator:function(e){return-1!==["medium","small","mini"].indexOf(e)}},fit:{type:Boolean,default:!0},showHeader:{type:Boolean,default:!0},highlightCurrentRow:{type:Boolean,default:!1},currentRowKey:[String,Number],rowKey:{type:[Function,String],default:"id"},rowClassName:[Function,String],rowStyle:[Function,Object],cellClassName:[Function,String],cellStyle:[Function,String],headerRowStyle:[Function,Object],headerCellClassName:[Function,String],headerRowClassName:[Function,String],headerCellStyle:[Function,Object],empyText:{type:String,default:"暂无数据"},defautExpandAll:{type:Boolean,default:!1},defaultSort:Object,tooltipEffect:String,summaryMethod:Function,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},showSelectTips:{type:Boolean,default:!0}};Object.prototype.toString;function pe(e){return null!==e&&void 0!==e}function fe(e){if(!e||"object"===typeof e)return 0===Object.keys(e).length;console.warn("接受参数必须为对象")}function he(e){if("string"===typeof e)try{return JSON.parse(e),!0}catch(t){return!1}}const me=function(e,t){t=t||"";const n=t.split(".");let o=e,i=null;for(let a=0,r=n.length;a<r;a++){const e=n[a];if(!o)break;if(a===r-1){i=o[e];break}o=o[e]}return i};var ge=n("b95b");function be(e,t,n=null,o=null){let i=[];return Array.from(e).forEach(e=>{void 0===e._expanded&&this.$set(e,"_expanded",t);let a=1;if(void 0!==o&&null!==o&&(a=o+1),this.$set(e,"_level",a),n&&this.$set(e,"parent",n),i.push(e),e[this.treeChildrenKey]&&e[this.treeChildrenKey].length>0){const n=be.apply(this,[e[this.treeChildrenKey],t,e,a]);i=i.concat(n)}}),i}var ye={components:{NsForm:le},name:"NsTable",mixins:[ge["a"]],props:ue,data(){return{total:0,page:1,pageSize:10,loading:!1,selectKey:"",searchFormModel:{},isTreeStatus:!1,currentData:[],selection:[],type:["selection","index","expand"],radio:!1,isShow:!0,showClomnuIndex:[],showClomnuList:[],tableId:(new Date).getTime()}},methods:{isEmptyObject:fe,emitEventHandler(e){this.$emit(e,...Array.from(arguments).splice(1))},handleSizeChange(e){this.pageSize=e,this.initData(this.searchFormModel)},handleCurrentChange(e){this.page=e,this.initData(this.searchFormModel)},handlerSearch(e=!0){e&&(this.page=1),this.initData(this.searchFormModel)},initData(){let{tableData:e,url:t,fetch:n}=this;e.length||!t&&!n?this.handleLocalData(e):this.initServe(arguments[0])},handleLocalData(){let{pagination:e,tableData:t}=this,n=JSON.parse(JSON.stringify(t));e?this.paginationData(n):this.currentData=n},delSelection(e){Array.isArray(e)||(e=[e]);for(let t=0;t<this.selection.length;t++){let n=this.selection[t];e.includes(n[this.uniqueId])&&(this.selection.splice(t,1),t--)}},initServe(e={}){this.loading=!0;let{fetch:t,url:n,$http:o,pagination:i,sidePagination:a,listField:r,pageIndexKey:l,pageSizeKey:s,page:c,pageSize:d,totalField:u,queryParams:p,ajaxOptions:f}=this,h={};h=p&&"function"===typeof p?p(e):p&&"object"===typeof p?Object.assign(p,e):e,i&&(h=Object.assign(h,{[l]:c,[s]:d}));let m=null;if(t)m=t(h);else{let e=f.method?f.method.toLowerCase():"post";m="get"===e?o[e](n,{params:h}):o[e](n,h)}m.then(e=>{if(e){let t=e.data&&e.data instanceof Array?e.data:me(e,r);if(i&&"client"===a)this.paginationData(t);else if(i&&"server"===a){let n=me(e,u);this.total=n||0;let o=Math.ceil(this.total/this.pageSize);if(this.page>o&&0!==o)return this.handleCurrentChange(o),!1;this.responseHandler?this.currentData=this.responseHandler(t):this.currentData=t}else this.responseHandler?this.currentData=this.responseHandler(t):this.currentData=t;this.loadSuccess&&this.$nextTick(()=>{this.loadSuccess(e)}),this.loading=!1}}).catch(e=>{this.loading=!1,console.log(e)})},paginationData(e){let{pageSize:t,page:n}=this,o=e.length;this.total=o,this.currentData=e.filter((e,o)=>{if(o>=(n-1)*t&&o<n*t)return!0})}},computed:{formatData(){if(!this.treeTable)return this.currentData;let e;e=Array.isArray(this.currentData)?this.currentData:[this.currentData];let t=window.sessionStorage.getItem(this.tableId)||"[]",n=he(t)?JSON.parse(t):[];const o=be,i=[e,this.expandAll];return e=o.apply(this,i),this.isTreeStatus&&n&&n.length&&e.forEach(e=>{n.indexOf(e.id)>=0&&(e._expanded=!0)}),e},isTableInternational(){return pe(this.isInternational)?this.isInternational:this.$NS.isInternational},isOperationsOnlyShowIcon(){return pe(this.operationsOnlyShowIcon)?this.operationsOnlyShowIcon:this.$NS.operationsOnlyShowIcon},isShowSearchForm(){return pe(this.showSearchForm)?this.showSearchForm:this.$NS.showSearchForm}},watch:{maxHeight(e){},formatData:{handler(e,t){this.saveTreeStateToCookies(e)},deep:!0,immediate:!0},tableData:{handler(e,t){"undefined"!==typeof t&&this.initData(this.searchFormModel)},immediate:!0},isShowSearchForm:{handler(e){this.isShow=e},immediate:!0}},mounted(){this.isTreeStatus=!1,window.sessionStorage.removeItem(this.tableId),this.initData(this.searchFormModel)},created(){this.showClomnuInit()}},ve=ye,we=(n("d897"),n("858a"),Y(ve,ce,de,!1,null,"2492675c",null)),xe=we.exports;xe.install=function(e){e.component(xe.name,xe)};var Se=xe,_e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],ref:"ns-dialog",class:{"ns-dialog--center":e.isCenter},attrs:{title:e.getInternationalValue(e.title),visible:e.show,"append-to-body":e.appendToBody,"close-on-click-modal":!1,"before-close":e.beforeClose,width:e.area instanceof Array?e.area[0]:e.area},on:{"update:visible":function(t){e.show=t},close:function(t){return e.$emit("close")},closed:e.closed}},[n("template",{slot:"title"},[e._t("title")],2),e._t("default"),n("template",{slot:"footer"},[e._t("footer",[n("span",{staticClass:"dialog-footer"},[e.yesBtn?n("el-button",{attrs:{type:"primary"},on:{click:e.ok}},[e._v(e._s(e.getInternationalValue(e.confirmText)))]):e._e(),e.cancelBtn?n("el-button",{on:{click:function(t){return e.$emit("update:visible",!1)}}},[e._v(e._s(e.getInternationalValue(e.cancelText)))]):e._e()],1)])],2)],2)},ke=[];const Oe=function(e){return"string"!==typeof e?(console.error("参数必须为字符串"),!1):this.international&&this.$te(e)?this.$t(e):e};function Ce(e){return null!==e&&void 0!==e}var Ie=n("0f32"),$e=n.n(Ie),Me={name:"NsDialog",props:{isInternational:Boolean,visible:{type:Boolean,default:!1},destroyOnClose:{type:Boolean,default:!0},title:{type:String,default:"创建"},appendToBody:{type:Boolean,default:!0},area:{type:[Array,String],default:()=>["auto","auto"]},beforeClose:Function,width:{type:String,default:"800px"},top:{type:String},height:{type:String,default:"auto"},cancelBtn:{type:Boolean,default:!0},cancelText:{type:String,default:"取消"},confirmText:{type:String,default:"确认"},yesBtn:{type:Boolean,default:!0}},watch:{visible:{immediate:!0,handler:function(e){this.show=e}}},data(){return{show:!1,isCenter:!1}},methods:{closed(){this.$emit("update:visible",!1),this.$emit("closed")},ok:$e()(function(){this.$emit("ok")},1e3),initUtils(){Object.keys(a).forEach(e=>{this[e]=a[e]})}},mounted(){let e,t=this.$refs["ns-dialog"],n=t.$el.getElementsByClassName("el-dialog")[0];this.area instanceof Array&&this.area.length>=1&&(e=this.area[1],n.style.height=e),this.top?(n.style.marginTop=this.top,this.isCenter=!1):this.isCenter=!0},computed:{international(){return this.isExist(this.isInternational)?this.isInternational:this.$NS.isInternational}},created(){this.initUtils()}},De=Me,Fe=(n("49de"),Y(De,_e,ke,!1,null,null,null)),Ee=Fe.exports;Ee.install=function(e){e.component(Ee.name,Ee)};var Be=Ee,je=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dropdown",{attrs:{trigger:"hover"},on:{command:e.setLanguage}},[n("div",[n("i",{staticClass:"icon iconfont icon-language"})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"zh",disabled:"zh"===e.language}},[e._v("中文")]),n("el-dropdown-item",{attrs:{command:"en",disabled:"en"===e.language}},[e._v("English")])],1)],1)},Le=[],Te={name:"SwitchLanguage",computed:{language(){return this.$store.getters.language}},methods:{setLanguage(e){this.$i18n.locale=e,this.$store.commit("SET_LANGUAGE",e),this.$message.success({message:this.$t("langTips"),center:!0})}}},Ne=Te,Ae=(n("8dc8"),Y(Ne,je,Le,!1,null,"5d6cda52",null)),ze=Ae.exports;ze.install=function(e){e.component(ze.name,ze)};var Ve=ze,Pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-breadcrumb",{staticClass:"app-breadcrumb",attrs:{"separator-class":"el-icon-arrow-right"}},[n("transition-group",{attrs:{name:"breadcrumb"}},[e._l(e.levelList,function(t,o){return[e.isHasBreadcrumb(t)?n("el-breadcrumb-item",{key:t.path},[o==e.levelList.length-1||e.isFirst(t.redirect)?n("span",{staticClass:"no-redirect"},[e._v(e._s(e.getInternationalValue("routes."+(t.name||""))))]):n("router-link",{attrs:{to:t.path}},[e._v(e._s(e.getInternationalValue("routes."+(t.name||""))))])],1):e._e()]})],2)],1)},He=[],Re={name:"Breadcrumb",created(){this.getBreadcrumb()},data(){return{levelList:null}},props:{isInternational:{type:Boolean}},watch:{$route(){this.getBreadcrumb()}},methods:{getInternationalValue:Oe,getBreadcrumb(){let e=this.$route.matched.filter(e=>e.name);const t=e[0];t&&"homepage"!==t.name&&(e=[{path:"/homepage",name:"homepage"}].concat(e)),this.levelList=e},isFirst(e){let t=!(!e||!e.name)&&e.name;if(t){let e=this.$route.name;return e===t}return!1},isHasBreadcrumb(e){return!!e.name}},computed:{international(){return Ce(this.isInternational)?this.isInternational:this.$NS.isInternational}}},Ke=Re,Ue=(n("87a1"),Y(Ke,Pe,He,!1,null,"6f76374e",null)),We=Ue.exports;We.install=function(e){e.component(We.name,We)};var qe=We,Je=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"scrollContainer",staticClass:"scroll-container",on:{wheel:function(t){return t.preventDefault(),e.handleScroll(t)}}},[n("div",{ref:"scrollWrapper",staticClass:"scroll-wrapper",style:{left:e.left+"px"}},[e._t("default")],2)])},Ge=[];const Xe=15;var Ye={name:"ScrollPane",data(){return{left:0}},methods:{handleScroll(e){const t=e.wheelDelta||3*-e.deltaY,n=this.$refs.scrollContainer,o=n.offsetWidth,i=this.$refs.scrollWrapper,a=i.offsetWidth;t>0?this.left=Math.min(0,this.left+t):o-Xe<a?this.left<-(a-o+Xe)?this.left=this.left:this.left=Math.max(this.left+t,o-a-Xe):this.left=0},moveToTarget(e){const t=this.$refs.scrollContainer,n=t.offsetWidth,o=e.offsetLeft,i=e.offsetWidth;o<-this.left?this.left=-o+Xe:o+Xe>-this.left&&o+i<-this.left+n-Xe||(this.left=-(o-(n-i)+Xe))}}},Qe=Ye,Ze=(n("b218"),Y(Qe,Je,Ge,!1,null,"321ea7a2",null)),et=Ze.exports;et.install=function(e){e.component(et.name,et)};var tt=et;const nt=[se,Se,Be,Ve,qe,tt],ot=function(e,t={}){nt.map(t=>{e.component(t.name,t)}),e.prototype.$NS={isInternational:t.isInternational||!1,operationsOnlyShowIcon:t.operationsOnlyShowIcon||!0,showSearchForm:t.showSearchForm||!0}};var it=ot;t["default"]=it},ffd6:function(e,t,n){var o=n("3729"),i=n("1310"),a="[object Symbol]";function r(e){return"symbol"==typeof e||i(e)&&o(e)==a}e.exports=r}})});
//# sourceMappingURL=nsElementUi.umd.min.js.map